<?phpnamespace App\Model;use Nette\Database\Connection;use Nette\Database\Context;/** * Description of FirmaModel * * @author Martin Patyk */final class FirmaModel extends BaseNDbModel{    use FetchPairsTrait;    public const TABLE_NAME = 'firma';    private $connection;    public function __construct(Context $context, Connection $connection)    {        parent::__construct(self::TABLE_NAME, $context);        $this->connection = $connection;    }    /**     * Nacte inicialy dodavatelske a odberatelske firmy     * @param int $dodavatel identifikator doda     */    public function fetchDodavatelOdberatel(int $dodavatel, int $odberatel)    {        $query = 'SELECT dodavatel.nazev AS dodavatel_nazev, ' .            'dodavatel.ico AS dodavatel_ico, ' .            'dodavatel.dic AS dodavatel_dic, ' .            'dodavatel.ulice AS dodavatel_ulice, ' .            'dodavatel.obec AS dodavatel_obec, ' .            'dodavatel.psc AS dodavatel_psc, ' .            'zeme_dodavatel.nazev AS dodavatel_zeme, ' .            'dodavatel.cislo_uctu AS dodavatel_cislo_uctu, ' .            'odberatel.nazev AS odberatel_nazev, ' .            'odberatel.ico AS odberatel_ico, ' .            'odberatel.dic AS odberatel_dic, ' .            'odberatel.ulice AS odberatel_ulice, ' .            'odberatel.obec AS odberatel_obec, ' .            'odberatel.psc AS odberatel_psc, ' .            'zeme_odberatel.nazev AS odberatel_zeme, ' .            'odberatel.cislo_uctu AS odberatel_cislo_uctu, ' .            'odberatel.iban AS odberatel_iban, ' .            'dodavatel.iban AS dodavatel_iban ' .            'FROM ' . self::TABLE_NAME . ' AS dodavatel ' .            'INNER JOIN ' . self::TABLE_NAME . ' AS odberatel ON odberatel.id = ? ' .            'INNER JOIN zeme AS zeme_dodavatel ON dodavatel.zeme = zeme_dodavatel.id ' .            'INNER JOIN zeme AS zeme_odberatel ON odberatel.zeme = zeme_odberatel.id ' .            'WHERE dodavatel.id = ? ';        return $this->connection->query($query, $odberatel, $dodavatel)->fetch();    }}