<?php/** * Description of MojeFakturaControl * * @author patykmar */namespace App\Components\MojeFaktura;use DibiRow;use Nette\Application\UI\Control;use mPDF;class MojeFakturaControl extends Control{    /** @var DibiRow */    private $data;    public function __construct(DibiRow $data)    {        $this->data = $data;    }    /**     * Exports Invoice template via passed mPDF.     *     * @param mPDF $mpdf     * @param string $name     * @param string $dest     * @return void     */    public function exportToPdf(mPDF $mpdf, $name = NULL, $dest = NULL)    {        $fa_zahlavi = clone $this->template;        $fa_zapati = clone $this->template;        $fa_inicialy = clone $this->template;        $fa_telo = clone $this->template;        $fa_cena_celkem_razitko = clone $this->template;        $fa_zahlavi->setFile(__DIR__ . '/fa_zahlavi.latte');        $fa_zapati->setFile(__DIR__ . '/fa_zapati.latte');        $fa_telo->setFile(__DIR__ . '/fakturaBezDph.latte');        $fa_inicialy->setFile(__DIR__ . '/fa_inicialy.latte');        $fa_cena_celkem_razitko->setFile(__DIR__ . '/fa_cena_celkem_razitko.latte');        $fa_zahlavi->title = $this->data['title'];        $fa_inicialy->faktura = $this->data;        $fa_telo->faktura = $this->data;        $fa_cena_celkem_razitko->faktura = $this->data;        #template->render();        #exit;        #$this->generate($template);        // Define the Header/Footer before writing anything so they appear on the first page        $mpdf->SetHTMLHeader((string)$fa_zahlavi);        $mpdf->SetHTMLFooter((string)$fa_zapati);        $mpdf->WriteHTML((string)$fa_inicialy);        $mpdf->WriteHTML((string)$fa_telo);        $mpdf->WriteHTML((string)$fa_cena_celkem_razitko);        if (($name !== '') && ($dest !== NULL)) {            $mpdf->Output($name, $dest);        } elseif ($dest !== NULL) {            $mpdf->Output('', $dest);        } else {            $mpdf->Output($name, $dest);        }    }}